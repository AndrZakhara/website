/*!
 * website
 * Fiercely quick and opinionated front-ends
 * 
 * @author Andr Zakhar
 * @version 1.0.0
 * Copyright 2018. MIT licensed.
 */
/*!
 * website
 * Fiercely quick and opinionated front-ends
 * 
 * @author Andr Zakhar
 * @version 1.0.0
 * Copyright 2018. MIT licensed.
 */
let inputValue = '',
    selectedElement = '',
    // previous = false,
    // next = false,
    // parent = false,
    parentNode = '',
    // children = false,
    childrenNode = '';

function createAppStructure() {
  const inputSearch = createElement('input', { className: 'search-input', type: 'text', placeholder: 'Selector' });
  const btnSearch = createElement('input', { className: 'search-btn', type: 'button', value: 'search' });

  const btnPrev = createElement('input', { className: 'prev-btn', type: 'button', value: 'Prev' });
  const btnNext = createElement('input', { className: 'next-btn', type: 'button', value: 'Next' });
  const btnParent = createElement('input', { className: 'parent-btn', type: 'button', value: 'Parent' });
  const btnChildren = createElement('input', { className: 'children-btn', type: 'button', value: 'Children' });

  const textFieldWrapper = createElement('div', { className: 'text-field-wrapper' }, inputSearch, btnSearch);
  const btnWrapper = createElement('div', { className: 'btn-wrapper' }, btnPrev, btnNext, btnParent, btnChildren);

  const mainAppWrapper = createElement('div', { className: 'selector-search-app' }, textFieldWrapper, btnWrapper);

  btnSearch.disabled = true;
  btnPrev.disabled = true;
  btnNext.disabled = true;
  btnParent.disabled = true;
  btnChildren.disabled = true;

  btnSearch.addEventListener('click', handleSearch);
  inputSearch.addEventListener('input', handleInput);
  btnParent.addEventListener('click', handleParent);
  btnChildren.addEventListener('click', handleChildren);

  document.body.insertAdjacentElement('beforeend', mainAppWrapper);
}

const handleSearch = () => {
  inputValue = document.querySelector('.search-input').value;
  document.querySelector('.search-input').value = '';
  document.querySelector('.search-btn').disabled = true;

  try {
    if(selectedElement === '') {
      const selected = document.querySelector(inputValue);

      if (selected !== undefined && selected !== null) {
        selectedElement = selected;
        selectedElement.classList.add('selected-element-search');
        findRelative(selectedElement);
      }
    }
    else if(selectedElement !== null || selectedElement !== undefined) {
      selectedElement.classList.remove('selected-element-search');
      const selected = document.querySelector(inputValue);

      if (selected !== undefined && selected !== null) {
        selectedElement = selected;
        selectedElement.classList.add('selected-element-search');
        findRelative(selectedElement);
      }
    }
  }
  catch (err) {
    document.querySelector('.search-btn').disabled = true;
    document.querySelector('.prev-btn').disabled = true;
    document.querySelector('.next-btn').disabled = true;
    document.querySelector('.parent-btn').disabled = true;
    document.querySelector('.children-btn').disabled = true;
  }

  document.querySelector('.search-btn').disabled = true;
  scrollToElement('.selected-element-search');
};

const handleInput = (e) => {
  (e.target.value === '')
    ? document.querySelector('.search-btn').disabled = true
    :document.querySelector('.search-btn').disabled = false
};

const handleParent = () => {
  selectedElement.classList.remove('selected-element-search');
  selectedElement = parentNode;
  selectedElement.classList.add('selected-element-search');
  findRelative(selectedElement);
  scrollToElement('.selected-element-search');
};

const handleChildren = () => {
  selectedElement.classList.remove('selected-element-search');
  selectedElement = childrenNode;
  selectedElement.classList.add('selected-element-search');
  findRelative(selectedElement);
  scrollToElement('.selected-element-search');
};

function scrollToElement(theElement) {
  let selectedPosX = 0;
  let selectedPosY = 0;

  if (typeof theElement === "string") theElement = document.querySelector(theElement);

    while (theElement !== null) {
        selectedPosX += theElement.offsetLeft;
        selectedPosY += theElement.offsetTop;
        theElement = theElement.offsetParent;
    }

    selectedPosY = selectedPosY-20;
    window.scrollTo(selectedPosX, selectedPosY);
}

function appInit() {
  createAppStructure();
}

function findRelative(element) {
  const tagNameParent = element.parentNode.tagName;
  const child = element.children[0];

  if(
    element.parentNode !== undefined
    // && tagNameParent !== 'BODY'
    && tagNameParent !== 'HTML'
    && tagNameParent !== 'document'
    && tagNameParent !== undefined
    ) {
    document.querySelector('.parent-btn').disabled = false;
    parentNode = element.parentNode;
  }
  else {
    document.querySelector('.parent-btn').disabled = true;
    parentNode = '';
  }

  if(child !== undefined) {
    document.querySelector('.children-btn').disabled = false;
    childrenNode = child;
  }
  else {
    document.querySelector('.children-btn').disabled = true;
    childrenNode = '';
  }
}

function createElement(tag, props, ...children) {
  const element = document.createElement(tag);

  Object.keys(props).forEach(key => (element[key] = props[key]));

  children.forEach(child => {

    if (typeof child === "string") {
      child = document.createTextNode(child);
    }

    element.appendChild(child);
  });

  return element;
}

document.addEventListener("DOMContentLoaded", appInit);

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBpbnB1dFZhbHVlID0gJycsXHJcbiAgICBzZWxlY3RlZEVsZW1lbnQgPSAnJyxcclxuICAgIC8vIHByZXZpb3VzID0gZmFsc2UsXHJcbiAgICAvLyBuZXh0ID0gZmFsc2UsXHJcbiAgICAvLyBwYXJlbnQgPSBmYWxzZSxcclxuICAgIHBhcmVudE5vZGUgPSAnJyxcclxuICAgIC8vIGNoaWxkcmVuID0gZmFsc2UsXHJcbiAgICBjaGlsZHJlbk5vZGUgPSAnJztcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUFwcFN0cnVjdHVyZSgpIHtcclxuICBjb25zdCBpbnB1dFNlYXJjaCA9IGNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyBjbGFzc05hbWU6ICdzZWFyY2gtaW5wdXQnLCB0eXBlOiAndGV4dCcsIHBsYWNlaG9sZGVyOiAnU2VsZWN0b3InIH0pO1xyXG4gIGNvbnN0IGJ0blNlYXJjaCA9IGNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyBjbGFzc05hbWU6ICdzZWFyY2gtYnRuJywgdHlwZTogJ2J1dHRvbicsIHZhbHVlOiAnc2VhcmNoJyB9KTtcclxuXHJcbiAgY29uc3QgYnRuUHJldiA9IGNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyBjbGFzc05hbWU6ICdwcmV2LWJ0bicsIHR5cGU6ICdidXR0b24nLCB2YWx1ZTogJ1ByZXYnIH0pO1xyXG4gIGNvbnN0IGJ0bk5leHQgPSBjcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsgY2xhc3NOYW1lOiAnbmV4dC1idG4nLCB0eXBlOiAnYnV0dG9uJywgdmFsdWU6ICdOZXh0JyB9KTtcclxuICBjb25zdCBidG5QYXJlbnQgPSBjcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsgY2xhc3NOYW1lOiAncGFyZW50LWJ0bicsIHR5cGU6ICdidXR0b24nLCB2YWx1ZTogJ1BhcmVudCcgfSk7XHJcbiAgY29uc3QgYnRuQ2hpbGRyZW4gPSBjcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsgY2xhc3NOYW1lOiAnY2hpbGRyZW4tYnRuJywgdHlwZTogJ2J1dHRvbicsIHZhbHVlOiAnQ2hpbGRyZW4nIH0pO1xyXG5cclxuICBjb25zdCB0ZXh0RmllbGRXcmFwcGVyID0gY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6ICd0ZXh0LWZpZWxkLXdyYXBwZXInIH0sIGlucHV0U2VhcmNoLCBidG5TZWFyY2gpO1xyXG4gIGNvbnN0IGJ0bldyYXBwZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCB7IGNsYXNzTmFtZTogJ2J0bi13cmFwcGVyJyB9LCBidG5QcmV2LCBidG5OZXh0LCBidG5QYXJlbnQsIGJ0bkNoaWxkcmVuKTtcclxuXHJcbiAgY29uc3QgbWFpbkFwcFdyYXBwZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCB7IGNsYXNzTmFtZTogJ3NlbGVjdG9yLXNlYXJjaC1hcHAnIH0sIHRleHRGaWVsZFdyYXBwZXIsIGJ0bldyYXBwZXIpO1xyXG5cclxuICBidG5TZWFyY2guZGlzYWJsZWQgPSB0cnVlO1xyXG4gIGJ0blByZXYuZGlzYWJsZWQgPSB0cnVlO1xyXG4gIGJ0bk5leHQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gIGJ0blBhcmVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgYnRuQ2hpbGRyZW4uZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuICBidG5TZWFyY2guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVTZWFyY2gpO1xyXG4gIGlucHV0U2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgaGFuZGxlSW5wdXQpO1xyXG4gIGJ0blBhcmVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVBhcmVudCk7XHJcbiAgYnRuQ2hpbGRyZW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDaGlsZHJlbik7XHJcblxyXG4gIGRvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmVlbmQnLCBtYWluQXBwV3JhcHBlcik7XHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZVNlYXJjaCA9ICgpID0+IHtcclxuICBpbnB1dFZhbHVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlYXJjaC1pbnB1dCcpLnZhbHVlO1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2gtaW5wdXQnKS52YWx1ZSA9ICcnO1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2gtYnRuJykuZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuICB0cnkge1xyXG4gICAgaWYoc2VsZWN0ZWRFbGVtZW50ID09PSAnJykge1xyXG4gICAgICBjb25zdCBzZWxlY3RlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5wdXRWYWx1ZSk7XHJcblxyXG4gICAgICBpZiAoc2VsZWN0ZWQgIT09IHVuZGVmaW5lZCAmJiBzZWxlY3RlZCAhPT0gbnVsbCkge1xyXG4gICAgICAgIHNlbGVjdGVkRWxlbWVudCA9IHNlbGVjdGVkO1xyXG4gICAgICAgIHNlbGVjdGVkRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZC1lbGVtZW50LXNlYXJjaCcpO1xyXG4gICAgICAgIGZpbmRSZWxhdGl2ZShzZWxlY3RlZEVsZW1lbnQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKHNlbGVjdGVkRWxlbWVudCAhPT0gbnVsbCB8fCBzZWxlY3RlZEVsZW1lbnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBzZWxlY3RlZEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQtZWxlbWVudC1zZWFyY2gnKTtcclxuICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGlucHV0VmFsdWUpO1xyXG5cclxuICAgICAgaWYgKHNlbGVjdGVkICE9PSB1bmRlZmluZWQgJiYgc2VsZWN0ZWQgIT09IG51bGwpIHtcclxuICAgICAgICBzZWxlY3RlZEVsZW1lbnQgPSBzZWxlY3RlZDtcclxuICAgICAgICBzZWxlY3RlZEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQtZWxlbWVudC1zZWFyY2gnKTtcclxuICAgICAgICBmaW5kUmVsYXRpdmUoc2VsZWN0ZWRFbGVtZW50KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBjYXRjaCAoZXJyKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoLWJ0bicpLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcmV2LWJ0bicpLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXh0LWJ0bicpLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYXJlbnQtYnRuJykuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoaWxkcmVuLWJ0bicpLmRpc2FibGVkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2gtYnRuJykuZGlzYWJsZWQgPSB0cnVlO1xyXG4gIHNjcm9sbFRvRWxlbWVudCgnLnNlbGVjdGVkLWVsZW1lbnQtc2VhcmNoJyk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVJbnB1dCA9IChlKSA9PiB7XHJcbiAgKGUudGFyZ2V0LnZhbHVlID09PSAnJylcclxuICAgID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlYXJjaC1idG4nKS5kaXNhYmxlZCA9IHRydWVcclxuICAgIDpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoLWJ0bicpLmRpc2FibGVkID0gZmFsc2VcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZVBhcmVudCA9ICgpID0+IHtcclxuICBzZWxlY3RlZEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQtZWxlbWVudC1zZWFyY2gnKTtcclxuICBzZWxlY3RlZEVsZW1lbnQgPSBwYXJlbnROb2RlO1xyXG4gIHNlbGVjdGVkRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZC1lbGVtZW50LXNlYXJjaCcpO1xyXG4gIGZpbmRSZWxhdGl2ZShzZWxlY3RlZEVsZW1lbnQpO1xyXG4gIHNjcm9sbFRvRWxlbWVudCgnLnNlbGVjdGVkLWVsZW1lbnQtc2VhcmNoJyk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVDaGlsZHJlbiA9ICgpID0+IHtcclxuICBzZWxlY3RlZEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQtZWxlbWVudC1zZWFyY2gnKTtcclxuICBzZWxlY3RlZEVsZW1lbnQgPSBjaGlsZHJlbk5vZGU7XHJcbiAgc2VsZWN0ZWRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkLWVsZW1lbnQtc2VhcmNoJyk7XHJcbiAgZmluZFJlbGF0aXZlKHNlbGVjdGVkRWxlbWVudCk7XHJcbiAgc2Nyb2xsVG9FbGVtZW50KCcuc2VsZWN0ZWQtZWxlbWVudC1zZWFyY2gnKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHNjcm9sbFRvRWxlbWVudCh0aGVFbGVtZW50KSB7XHJcbiAgbGV0IHNlbGVjdGVkUG9zWCA9IDA7XHJcbiAgbGV0IHNlbGVjdGVkUG9zWSA9IDA7XHJcblxyXG4gIGlmICh0eXBlb2YgdGhlRWxlbWVudCA9PT0gXCJzdHJpbmdcIikgdGhlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhlRWxlbWVudCk7XHJcblxyXG4gICAgd2hpbGUgKHRoZUVsZW1lbnQgIT09IG51bGwpIHtcclxuICAgICAgICBzZWxlY3RlZFBvc1ggKz0gdGhlRWxlbWVudC5vZmZzZXRMZWZ0O1xyXG4gICAgICAgIHNlbGVjdGVkUG9zWSArPSB0aGVFbGVtZW50Lm9mZnNldFRvcDtcclxuICAgICAgICB0aGVFbGVtZW50ID0gdGhlRWxlbWVudC5vZmZzZXRQYXJlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZWN0ZWRQb3NZID0gc2VsZWN0ZWRQb3NZLTIwO1xyXG4gICAgd2luZG93LnNjcm9sbFRvKHNlbGVjdGVkUG9zWCwgc2VsZWN0ZWRQb3NZKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYXBwSW5pdCgpIHtcclxuICBjcmVhdGVBcHBTdHJ1Y3R1cmUoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZmluZFJlbGF0aXZlKGVsZW1lbnQpIHtcclxuICBjb25zdCB0YWdOYW1lUGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlLnRhZ05hbWU7XHJcbiAgY29uc3QgY2hpbGQgPSBlbGVtZW50LmNoaWxkcmVuWzBdO1xyXG5cclxuICBpZihcclxuICAgIGVsZW1lbnQucGFyZW50Tm9kZSAhPT0gdW5kZWZpbmVkXHJcbiAgICAvLyAmJiB0YWdOYW1lUGFyZW50ICE9PSAnQk9EWSdcclxuICAgICYmIHRhZ05hbWVQYXJlbnQgIT09ICdIVE1MJ1xyXG4gICAgJiYgdGFnTmFtZVBhcmVudCAhPT0gJ2RvY3VtZW50J1xyXG4gICAgJiYgdGFnTmFtZVBhcmVudCAhPT0gdW5kZWZpbmVkXHJcbiAgICApIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYXJlbnQtYnRuJykuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIHBhcmVudE5vZGUgPSBlbGVtZW50LnBhcmVudE5vZGU7XHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhcmVudC1idG4nKS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBwYXJlbnROb2RlID0gJyc7XHJcbiAgfVxyXG5cclxuICBpZihjaGlsZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hpbGRyZW4tYnRuJykuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIGNoaWxkcmVuTm9kZSA9IGNoaWxkO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGlsZHJlbi1idG4nKS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBjaGlsZHJlbk5vZGUgPSAnJztcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodGFnLCBwcm9wcywgLi4uY2hpbGRyZW4pIHtcclxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xyXG5cclxuICBPYmplY3Qua2V5cyhwcm9wcykuZm9yRWFjaChrZXkgPT4gKGVsZW1lbnRba2V5XSA9IHByb3BzW2tleV0pKTtcclxuXHJcbiAgY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBjaGlsZCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICBjaGlsZCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNoaWxkKTtcclxuICAgIH1cclxuXHJcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGVsZW1lbnQ7XHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGFwcEluaXQpO1xyXG4iXX0=
